---
layout: post
title: Разрешение имен в FXML
---
Перевод отрыка из книги Pro JavaFX 9

Понимание разрешений атрибутов и привязок
Как вы видели в предыдущих частях этой главы, свойства объекта могут быть представлены в виде атрибутов и
в качестве подэлементов. Иногда так же эффективно моделировать свойство в качестве подэлемента или атрибута. Однако,
FXMLLoader будет выполнять дополнительную обработку атрибутов, что делает его более привлекательным для использования атрибутов.

При обработке атрибутов FXMLLoader будет выполнять три вида разрешений значений атрибутов и
привязmок выражений.
Когда значение атрибута начинается с символа @, FXMLLoader будет рассматривать значение как местоположение
относительно текущего файла. Это называется _разрешением местоположения_.

Когда значение атрибута начинается с %, FXMLLoader будет рассматривать значение как ключ в пакете ресурсов и заменит локальное значение по ключу. Это называется _разрешением ресурсов_.

Когда значение атрибута начинается с символа $ ,FXMLLoader будет рассматривать значение как имя переменной и подставлять значение указанной переменной как значение атрибута. Это называется _разрешением переменной_ .

Когда значение атрибута начинается с ${ и заканчивается}, и если атрибут представляет JavaFX
свойство, FXMLLoader будет рассматривать значение как выражение привязки и привязывает свойство JavaFX к
замкнутому выражению. Это _называется привязкой выражений_.

Теперь просто поймите, что когда свойство привязано к выражению, каждый раз когда
выражение изменяет значение, изменение отражается в свойстве. Поддерживаемые выражения включают строку
литералы, булевы литералы, числовые литералы, унарные - (минус) и ! (отрицание) операторы, арифметика
операторы (+, –, *, /, %), логические операторы ( & & ,|/) и операторы отношения (>, >=, <, <=, ==, !=).

Разрешение местоположения используется в файле FXML для указания местоположения файла CSS. Таблица стилей
атрибут имеет значение location " @ResolutionAndBindingExample.стиль CSS”:
{% highlight java %}
<VBox id="vbox" alignment="CENTER_LEFT" maxHeight="-Infinity" maxWidth="-Infinity"
minHeight="-Infinity"
      minWidth="-Infinity" prefHeight="200.0" prefWidth="700.0" spacing="10.0"
      stylesheets="@ResolutionAndBindingExample.css" xmlns="http://javafx.com/javafx/8"
      xmlns:fx="http://javafx.com/fxml/1" fx:controller="ResolutionAndBindingController">
{% endhighlight %}      
Таблица стилей задает Цвет фона VBox в azure. Разрешение ресурсов используется для задания текста
для трех меток в программе:
{% highlight java %}
      <Label text="%location">
      <Label text="%resources">
      <Label text="%currentDate">
{% endhighlight %} 
Эти метки получат свои тексты из пакета ресурсов, который поставляется в FXMLLoader раньше, когда
загружается файл FXML. Как локаль по умолчанию, так и перевод файла свойств на французский язык
предусмотрен. Разрешение переменной происходит между определенным экземпляром java.util.Date и меткой:
{% highlight java %}
<fx:define>
    <Date fx:id="capturedDate"/>
</fx:define>
<Label fx:id="currentDateLabel" text="$capturedDate"/>
{% endhighlight %} 
Определенная дата была дана fx: id capturedDate, и метка использовала переменную для ее текста.
Наконец, привязка выражения происходит между текстовым полем и меткой:
{% highlight java %}
      <TextField fx:id="textField"/>
      <Label text="${textField.text}"/>
{% endhighlight %} 
Текстовое поле было присвоено fx:id of textField, а метка привязывается к текстовому полю textField.text,
с результатом метки, имитирующей то, что набрано в текстовом поле. 
